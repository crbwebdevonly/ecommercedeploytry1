import { createContext, useReducer } from "react";
import AppContextReducer from "./AppContextReducer";

export const AppContext = createContext();

const initialState = {
     showPopUp: false,
     popup_message: "",
};

export const AppContextProvider = ({ children }) => {
     //======================================================
     const [state, AppContextDispatch] = useReducer(
          AppContextReducer,
          initialState
     );
     //======================================================
     //======================================================
     const func_showPopUp = (message) => {
          console.log("func_showPopUp>>", message);
          AppContextDispatch({ type: "SHOW", payload:{popup_message:message} });
          // setTimeout(() => {
          //      AppContextDispatch({ type: "HIDE" });
          // }, 3000);
          func_hidePopUp();
     };
     //======================================================
     //======================================================
     const func_hidePopUp = () => {
          console.log("func_hidePopUp>>");

          setTimeout(() => {
               AppContextDispatch({ type: "HIDE" });
          }, 3000);
     };
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================
     //======================================================

     return (
          <AppContext.Provider value={{ ...state, func_showPopUp,AppContextDispatch }}>
               {children}
          </AppContext.Provider>
     );
};
